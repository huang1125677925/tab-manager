# Tab Manager - 智能标签页管理器

一个功能强大的Chrome浏览器插件，帮助您智能管理标签页，通过设置最大标签页数量和多种管理策略来自动处理超出限制的标签页。

## 🌟 主要功能

### 📊 智能标签页管理
- **自定义最大标签页数量**：设置1-100个标签页的上限
- **实时监控**：自动检测标签页数量变化
- **智能保护**：永不关闭固定标签页和当前活动标签页

### 🎯 多种管理策略

1. **最旧优先** - 按创建时间关闭最早打开的标签页
2. **最新优先** - 关闭最近打开的标签页
3. **最少使用** - 基于访问频率关闭使用最少的标签页
4. **重复优先** - 优先关闭相同URL的重复标签页

### 💡 用户体验
- **美观界面**：现代化设计，渐变色彩
- **实时状态**：显示当前标签页数量和状态
- **即时反馈**：操作成功/失败提示
- **手动控制**：支持立即检查和管理

## 🚀 安装方法

### 开发者模式安装

1. **下载插件文件**
   ```bash
   git clone <repository-url>
   cd tab-manager
   ```

2. **打开Chrome扩展管理页面**
   - 在Chrome地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

3. **启用开发者模式**
   - 点击右上角的"开发者模式"开关

4. **加载插件**
   - 点击"加载已解压的扩展程序"
   - 选择tab-manager文件夹
   - 插件将自动安装并激活

## 📖 使用指南

### 基本设置

1. **点击插件图标**：在Chrome工具栏中找到Tab Manager图标
2. **设置最大标签页数量**：输入您希望的最大标签页数量（1-100）
3. **选择管理策略**：从下拉菜单中选择适合的策略
4. **保存设置**：点击"保存设置"按钮

### 管理策略详解

#### 🕐 最旧优先策略
- **适用场景**：希望保留最近打开的标签页
- **工作原理**：按标签页ID排序，关闭创建时间最早的标签页
- **推荐用户**：经常打开新标签页进行研究的用户

#### 🆕 最新优先策略
- **适用场景**：希望保留长期打开的重要标签页
- **工作原理**：关闭最近创建的标签页
- **推荐用户**：有固定工作标签页的用户

#### 📈 最少使用策略
- **适用场景**：基于使用频率进行智能管理
- **工作原理**：统计URL访问次数，关闭访问最少的标签页
- **推荐用户**：希望保留常用网站的用户

#### 🔄 重复优先策略
- **适用场景**：经常打开重复网站的用户
- **工作原理**：优先关闭相同URL的重复标签页，不足时按最旧策略补充
- **推荐用户**：容易打开重复标签页的用户

### 实时监控

插件会显示：
- **当前标签页数量**：实时更新
- **状态指示**：
  - 🟢 正常：未达到上限
  - 🟡 已达上限：刚好达到设置的最大数量
  - 🔴 超出X个：超出设置的最大数量

### 手动管理

- **立即检查**：点击"立即检查"按钮手动触发标签页管理
- **设置调整**：随时修改最大数量和策略设置

## ⚙️ 技术特性

### 🔒 安全保护
- **智能过滤**：不会关闭固定标签页
- **活动保护**：当前活动标签页永远安全
- **错误处理**：完善的异常处理机制

### 📊 数据存储
- **同步设置**：使用Chrome同步存储，设置跨设备同步
- **本地统计**：URL访问计数存储在本地
- **隐私保护**：所有数据仅存储在本地，不上传到服务器

### 🚀 性能优化
- **事件驱动**：仅在标签页变化时触发检查
- **异步处理**：不阻塞浏览器主线程
- **内存友好**：最小化内存占用

## 🛠️ 开发信息

### 文件结构
```
tab-manager/
├── manifest.json          # 插件配置文件
├── background.js          # 后台脚本
├── popup.html            # 弹出窗口HTML
├── popup.css             # 弹出窗口样式
├── popup.js              # 弹出窗口脚本
├── icons/                # 图标文件夹
│   ├── icon.svg          # 源SVG图标
│   ├── icon16.png        # 16x16图标
│   ├── icon32.png        # 32x32图标
│   ├── icon48.png        # 48x48图标
│   └── icon128.png       # 128x128图标
└── README.md             # 说明文档
```

### 技术栈
- **Manifest V3**：使用最新的Chrome扩展API
- **Vanilla JavaScript**：无外部依赖
- **CSS3**：现代化样式和动画
- **Chrome APIs**：tabs, storage, runtime

### 权限说明
- **tabs**：读取和管理标签页
- **storage**：保存用户设置和统计数据
- **activeTab**：获取当前活动标签页信息

## 🔧 自定义开发

### 添加新的管理策略

1. 在`background.js`的`closeTabs`方法中添加新的case
2. 在`popup.html`的select选项中添加新策略
3. 在`popup.js`中添加对应的描述信息

### 修改界面样式

- 编辑`popup.css`文件
- 支持CSS变量和现代CSS特性
- 响应式设计，支持不同屏幕尺寸

## 🐛 故障排除

### 常见问题

**Q: 插件不工作？**
A: 检查是否启用了开发者模式，确保所有文件都在正确位置

**Q: 设置不保存？**
A: 检查Chrome的存储权限，确保插件有storage权限

**Q: 标签页没有被关闭？**
A: 检查标签页是否被固定或是当前活动标签页

**Q: 统计数据不准确？**
A: 清除插件的本地存储数据，重新开始统计

### 调试方法

1. **查看后台脚本日志**：
   - 打开`chrome://extensions/`
   - 找到Tab Manager插件
   - 点击"检查视图"中的"背景页"

2. **查看弹出窗口日志**：
   - 右键点击插件图标
   - 选择"检查弹出式窗口"

## 📝 更新日志

### v1.0.0
- ✨ 初始版本发布
- 🎯 支持4种管理策略
- 💡 美观的用户界面
- 📊 实时状态监控
- 🔒 安全保护机制

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📞 支持

如果您遇到任何问题或有功能建议，请：
1. 查看本README的故障排除部分
2. 在GitHub上提交Issue
3. 发送邮件至开发者邮箱

---

**享受更整洁的浏览体验！** 🎉